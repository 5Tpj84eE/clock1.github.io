<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>時計</title>
  <!-- MDL -->
  <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
  <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
  <style>
    body {
      background: #F2F2F2;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }
    .mdl-card {
      width: 95%;
      max-width: 500px;
      padding: 16px;
      text-align: center;
    }
    canvas {
      width: 100%;
      height: auto;
    }
    #digitalClock {
      margin-top: 12px;
      font-size: 2.4em;
    }
    #digitalClock rt {
      font-size: 0.6em;
    }
  </style>
</head>
<body>
  <div class="mdl-card mdl-shadow--4dp">
    <canvas id="clockCanvas" width="400" height="400"></canvas>
    <div id="digitalClock"></div>
  </div>

  <script>
    const canvas = document.getElementById("clockCanvas");
    const ctx = canvas.getContext("2d");
    const radius = canvas.height / 2;
    ctx.translate(radius, radius);

    function drawClock() {
      ctx.clearRect(-radius, -radius, canvas.width, canvas.height);
      drawFace(ctx, radius);
      drawNumbers(ctx, radius);
      drawTime(ctx, radius);
      updateDigitalClock();
    }

    function drawFace(ctx, radius) {
      ctx.beginPath();
      ctx.arc(0, 0, radius * 0.95, 0, 2 * Math.PI);
      ctx.fillStyle = "#fff";
      ctx.fill();
    }

    function drawNumbers(ctx, radius) {
      ctx.font = radius * 0.12 + "px Arial";
      ctx.textBaseline = "middle";
      ctx.textAlign = "center";

      // 時（1〜12）
      ctx.fillStyle = "#C62828";
      for (let num = 1; num <= 12; num++) {
        let angle = (num * Math.PI) / 6;
        let x = radius * 0.75 * Math.sin(angle);
        let y = -radius * 0.75 * Math.cos(angle);
        ctx.fillText(num.toString(), x, y);
      }

      // 分・秒（0〜59）
      ctx.font = radius * 0.06 + "px Arial";
      ctx.fillStyle = "#1565C0";
      for (let num = 0; num < 60; num++) {
        let angle = (num * Math.PI) / 30;
        let x = radius * 0.9 * Math.sin(angle);
        let y = -radius * 0.9 * Math.cos(angle);
        ctx.fillText(num.toString(), x, y);
      }
    }

    function drawTime(ctx, radius) {
      const now = new Date();
      let hour = now.getHours();
      let minute = now.getMinutes();
      let second = now.getSeconds();

      // 時針（赤）
      hour = hour % 12;
      hour = (hour * Math.PI) / 6 + (minute * Math.PI) / (6 * 60);
      drawHand(ctx, hour, radius * 0.5, radius * 0.07, "#C62828");

      // 分針（青）
      minute = (minute * Math.PI) / 30 + (second * Math.PI) / (30 * 60);
      drawHand(ctx, minute, radius * 0.7, radius * 0.05, "#1565C0");

      // 秒針（水色 #42A5F5）
      second = (second * Math.PI) / 30;
      drawHand(ctx, second, radius * 0.8, radius * 0.02, "#42A5F5");
    }

    function drawHand(ctx, pos, length, width, color) {
      ctx.beginPath();
      ctx.lineWidth = width;
      ctx.lineCap = "round";
      ctx.strokeStyle = color;
      ctx.moveTo(0, 0);
      ctx.lineTo(length * Math.sin(pos), -length * Math.cos(pos));
      ctx.stroke();
    }

    function updateDigitalClock() {
      const now = new Date();
      let hour = now.getHours();
      let minute = now.getMinutes();
      let second = now.getSeconds();

      // 12時間表記に変換
      let displayHour = hour % 12;
      if (displayHour === 0) displayHour = 12;

      const digital = `
        ${displayHour}<ruby>時<rt>じ</rt></ruby>
        ${minute}<ruby>分<rt>ふん</rt></ruby>
        ${second}<ruby>秒<rt>びょう</rt></ruby>
      `;
      document.getElementById("digitalClock").innerHTML = digital;
    }

    setInterval(drawClock, 1000);
    drawClock();
  </script>
</body>
</html>
